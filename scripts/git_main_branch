#!/usr/bin/env bash

# Check if we're in a git repository
if ! command git rev-parse --git-dir &>/dev/null; then
  echo "main"
  exit 0
fi

# Try common branch names that exist locally
for branch in main master trunk; do
  if git show-ref -q --verify "refs/heads/$branch" 2>/dev/null; then
    echo "$branch"
    exit 0
  fi
done

# Default to main
echo "main"
